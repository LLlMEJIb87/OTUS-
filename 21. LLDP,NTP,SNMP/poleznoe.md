## LLDP
_ _ _

Link Layer Discovery Protocol (LLDP) — протокол канального уровня, позволяющий сетевому оборудованию оповещать оборудование, работающее в локальной сети, о своём существовании и передавать ему свои характеристики, а также получать от него аналогичные сведения.
```
Router(config)#lldp run активировать протокол на всех интерфейсах
```
```
Router(config)#interface gigabitEthernet 0/0/0 активироват lldp на интерфейсе
Router(config-if)#lldp receive 
Router(config-if)#lldp transmit 
```
```
Router#show lldp neighbors - найти соседей
```
```
Router#show lldp neighbors detail - более подробная информация
```
## NTP
_ _ _
NTP (Network Time Protocol) — сетевой протокол для синхронизации внутренних часов компьютера с использованием сетей с переменной латентностью.
  
Этот протокол позволяет маршрутизаторам в сети синхронизировать свои настройки времени с NTP-сервером, что обеспечивает более согласованные настройки времени. NTP можно настроить для синхронизации с частным генератором тактовых импульсов или общедоступным сервером NTP в Интернете. Протокол NTP использует порт UDP 123 и задокументирован в RFC 1305.
  
<p align="center">
<image src="https://github.com/LLlMEJIb87/OTUS-learning/blob/master/21.%20LLDP%2CNTP%2CSNMP/NTP.PNG">
</p>
  
- Устройства слоя 0: Эти доверенные источники времени, также называемые
устройствами часового слоя 0, являются высокоточными устройствами хранения
времени, которые считаются точными и работают практически без задержек.
- Устройства слоя 1 подключены напрямую к доверенным источникам времени.
Они выступают в роли основного стандарта сетевого времени.
- Слой 2 и ниже. Серверы слоя 2 подключены к устройствам слоя 1 через сеть.
Устройства часового слоя 2, например клиенты NTP, синхронизируют свое время
с помощью пакетов NTP, которые они получают от серверов часового слоя 1.
Эти устройства могут также выступать в роли серверов для устройств часового
слоя 3.
  

Серверы времени, находящиеся в одном часовом слое, могут работать как
равноправные серверы времени на одном уровне часового слоя для обеспечения
резервирования или проверки правильности времени.
  
```
Router#show clock detail - отображает текущее время и каким образом оно настроено
```
```
Router# NTP server 209.165.200.225 - задать сервер с которым будет происходить синхронизация
```
```
Router#show ntp associations - проверить, что маршрутизатор синхронгизирован с сервером
```
```
Router#show ntp status - проверить, уровень stratum
```

## SNMP
_ _ _
SNMP (англ. Simple Network Management Protocol — простой протокол сетевого управления) — стандартный интернет-протокол для управления устройствами в IP-сетях.
  
Ситсема SNMP имеет 3 роли:
- диспетчер SNMP  - какой -либо хост NMS , который является управляющим и работает по протоколу SNMP  с каким либо сетевым устройством в сети
- агент SNMP - устройство в сети коим мы управляем через диспетчер SNMP
- информационная база управления (MIB) - находится на управляемом узле и с ней работает агент SNMP
  
Диспетчер опрашивает агентов через порт UDP 161, агенты шлют трапы по порту UDP 162
  
<p align="center">
<image src="https://github.com/LLlMEJIb87/OTUS-learning/blob/master/21.%20LLDP%2CNTP%2CSNMP/SNMP_1.PNG">
</p>
  
Агент SNMP отвечает на запросы диспетчера SNMP следующим образом:
- Получение переменной MIB. Агент SNMP выполняет эту функцию в ответ на запрос
GetRequest-PDU от диспетчера сети. Агент получает значение запрошенной
переменной MIB и передает это значение в диспетчер сети.
- Изменение переменной MIB. Агент SNMP выполняет эту функцию в ответ на запрос
SetRequest-PDU от диспетчера сети. Агент SNMP изменяет значение переменной MIB
на значение, указанное диспетчером сети. Ответ агента SNMP на запрос set включает
новые параметры в устройстве.
  

Переменные в MIB организованы иерархически. Фактически MIB определяет каждую
переменную в качестве идентификатора объекта (OID). Идентификаторы OID
уникальным образом определяют управляемые объекты. MIB организует OID на
основе стандартов RFC, формируя иерархию OID, которая обычно представляется в
виде дерева.
- Дерево базы MIB для любого устройства включает несколько ветвей с
переменными, общими для многих сетевых устройств, и несколько ветвей с
уникальными переменными конкретного устройства или поставщика.
- Некоторые общедоступные переменные определены в документах RFC.
Большинство устройств используют эти переменные MIB. Кроме того,
поставщики сетевого оборудования, такие как Cisco, могут определять
собственные частные ветви дерева для добавления новых переменных, которые
будут использоваться только для их устройств.
  
<p align="center">
<image src="https://github.com/LLlMEJIb87/OTUS-learning/blob/master/21.%20LLDP%2CNTP%2CSNMP/OID.PNG">
</p>
  
